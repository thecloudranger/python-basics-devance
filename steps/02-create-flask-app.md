# Create a Flask Web app

In this step you will create a simple Flask Web App.

## Install the Flask package

[Flask](http://flask.pocoo.org) is a Python micro-framework for creating Web Apps. It is lightweight and easy to use to create simple Web Apps. It is available as a Python package that can be installed with `pip`.

Instead of install it using `pip` from the terminal, it should be configured inside a `requirements.txt` file. This file lists all the packages that a Python app depends on.

* Create a new file in the folder called `requirements.txt`
* Add the following packages to the file:
  
  ```python
  flask
  ```

  This adds all the packages needed by the web server.

* Save the file

* Install the packages from the terminal using the following command:
  
  ```sh
  pip install -r requirements.txt
  ```

  This will install all packages in the `requirements.txt` file, skipping any that are already installed..

## Write the code

* Create a new file called `app.py`
* Add the following code to this file:
  
  ```python
  from flask import Flask

  app = Flask(__name__)

  @app.route('/')
  def home():
    return 'Hello World'

  if __name__ == '__main__':
    app.run(host='0.0.0.0', port=8000)
  ```

* Save the file

## Run the code

Go to the terminal and type `python app.py`. 

The Web App will be run, and can be accessed from your device at [http://127.0.0.1:8000](http://127.0.0.1:8000). You will see this URL in the output window, and you can use **ctrl+click** to go directly to this site.
```
* Running on http://0.0.0.0:8000/ (Press CTRL+C to quit)
```

* Open this URL in a web browser to see the `Hello World` message.

![image](https://github.com/thecloudranger/python-basics-devance/raw/master/images/Sat_Jul_24_2021_1627058375105.png)

## What does this code do

The overall flow of this code is:

1. Create a Flask app that the Flask framework can use to know this is a Flask Web App
2. Define a route for '/' that returns `'Hello World'`

Lets look in more detail at the actual code.

```python
from flask import Flask
```

This tells the Python compiler that we want to use code in the `Flask` module. This module was installed as part of the `flask` package.

```python
app = Flask(__name__)
```

This creates a Flask Web App called whatever the file is called. `__name__` is a special variable in Python that returns the name of the current module - so the file without the `.py` extension.

```python
@app.route('/')
def home():
```

This defines a function called `home`. This function is mapped to a route called `/`. In a Web App, a route is the part of the URL after the domain name, and different routes can be mapped to different web pages. `/` is usually the home page, and there can be as many other routes as needed, for example `/about` would route to an about page, `/basket` could route to a shopping basket. If your website was at `http://www.mywebsite.com` then the `/` route is the one that would be used when you point your browser to `http://www.mywebsite.com`, `/about` would be used when you went to `http://www.mywebsite.com/about` and so on.

```python
return 'Hello World'
```

The contents of the `home` function just returns simple text, and this will be converted to a simple web page showing this text.

If you view the source of the web page generated by this code, you will see the following:

```html
<html>
  <head></head>
  <body>Hello World</body>
</html>
```

if `__name__ == '__main__' → __name__` is a special variable in Python which takes the value of the script name. This line ensures that our Flask app runs only when it is executed in the main file and not when it is imported in some other file

`app.run(host='0.0.0.0', port=8000)` → Run the Flask application

`host` specifies the server on which we want our flask application to run. The default value for `host` is `localhost` or `127.0.0.1`

`0.0.0.0` means “all IPv4 addresses on the local machine”. This ensures that the server will be reachable from all addresses.

The default `port` value is `5000` and you can set the parameter `port` to use the port number of your choice.

## Next step

In this step you created a simple Flask Web App that showed 'Hello World' when run. In the [next step](./03-create-sqlite-db.md) you will create a Sqlite database and create a table using the Sqlite extension in VS Code.